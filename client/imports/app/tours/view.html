<main>
	<!--slider-->
	<section class="slider">
		<div class="container-fluid">
			<navbar></navbar>
		</div>
		<div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
			<div class="carousel-inner" role="listbox">
				<div class="carousel-item active" *ngIf="!!tour">
					<img class="d-block img-fluid" src="images/slide1.png" alt="First slide">
					<div class="carousel-caption d-none d-md-block">
						<div class="destination-wrap">
							<div class="content">
								<div class="container">
									<div class="row">
										<div class="col-md-9 left-content">
											<h4>{{tour.name}}</h4>
											<p><span><i class="fa fa-map-marker" aria-hidden="true"></i></span>{{tour.departure}} & {{tour.destination}}</p>
										</div>
										<div class="col-md-3 right-content">
											<p>From</p>
											<h3><span>A${{tour.dateRange[0]?.price[0]?.adult}}</span></h3>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
					<span class="carousel-control-prev-icon" aria-hidden="true"></span>
					<span class="sr-only">Previous</span>
				</a>
				<a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
					<span class="carousel-control-next-icon" aria-hidden="true"></span>
					<span class="sr-only">Next</span>
				</a>
			</div>
		</div>

	</section>
	<!--slider-->
	<!--link-wrap-->
	<section class="link-wrap">
		<div class="link-head">
			<div class="container">
				<div class="row">
					<div class="col-sm-12">
						<div class="row">
							<div class="col-lg-3 push-lg-9">
								<div class="departure-box">
									<button class="btn green-btn" type="button">Choose Departure Date</button>
									<p>Booking will be confirmed within 24 hours.</p>
									<div class="departure-form">
										<div class="row">
											<div class="col-md-6">
												<div class="date-pick">
													<h4>Select your departure date</h4>
													<img src="images/cal-img.png" alt="" />
												</div>
											</div>
											<div class="col-md-6">
												<div class="book-form">
													<h4>How many people is travelling</h4>
													<form>
														<div class="row">
															<div class="col-sm-6">
																<div class="form-group">
																	<label for="adults">Adult</label>
																	<div class="select-style">
																		<select class="select">
																			<option value="Value 1">1</option>
																			<option value="Value 2">2</option>
																			<option value="Value 3">3</option>
																		</select>
																	</div>
																</div>
															</div>
															<div class="col-sm-6">
																<div class="form-group">
																	<label for="Child">Child</label>
																	<div class="select-style">
																		<select class="select">
																			<option value="Value 1">1</option>
																			<option value="Value 2">2</option>
																			<option value="Value 3">3</option>
																		</select>
																	</div>
																</div>
															</div>
														</div>
														<div class="row">
															<div class="col-sm-12">
																<h4>Tour Price</h4>
																<h5>Japan and Taiwan 12 Days Super Easter Highlight</h5>
																<ul>
																	<li>
																		<span class="pull_left">Adults x 2</span>
																		<span class="pull_right">$2,495.00</span>
																	</li>
																	<li>
																		<span class="pull_left">Child x 2</span>
																		<span class="pull_right">$2,195.00</span>
																	</li>
																</ul>
																<div class="total-wrap">
																	<div class="row">
																		<div class="col-4">
																			<p>Total</p>
																		</div>
																		<div class="col-8">
																			<h2>AU$</h2>
																			<h2>9,980</h2>
																		</div>
																	</div>
																</div>
															</div>
															<div class="col-sm-12">
																<button type="button" class="btn green-btn">Book now</button>
															</div>
														</div>
													</form>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
							<div class="col-lg-9 pull-lg-3">
								<div class="list-section">
									<ul>
										<li [ngClass]="{'active': activeTab=='overview'}"><a href="javascript:void(0);" (click)="activeTab='overview'; scrollToDiv('overview')"><span>Overview</span><span class="icon-wrap"><i class="fa fa-eye" aria-hidden="true"></i></span></a></li>
										<li [ngClass]="{'active': activeTab=='itinerary'}"><a href="javascript:void(0);" (click)="activeTab='itinerary'; scrollToDiv('itinerary')"><span>Itinerary</span><span class="icon-wrap"><i class="fa fa-th-list" aria-hidden="true"></i></span></a></li>
										<li [ngClass]="{'active': activeTab=='gallery'}"><a href="javascript:void(0);" (click)="activeTab='gallery'; scrollToDiv('gallery')"><span>Gallery</span><span class="icon-wrap"><i class="fa fa-picture-o" aria-hidden="true"></i></span></a></li>
										<li [ngClass]="{'active': activeTab=='inclusion'}"><a href="javascript:void(0);" (click)="activeTab='inclusion'; scrollToDiv('inclusion')"><span>Inclusion</span><span class="icon-wrap"><i class="fa fa-tasks" aria-hidden="true"></i></span></a></li>
									</ul>
								</div>
							</div>
						</div>

					</div>
				</div>
			</div>
		</div>
	</section>
	<!--link-wrap-->
	<!--link-content-->
	<section class="grey-bg link-content">
		<div class="container">
			<div class="row">
				<div class="col-md-4 push-md-8" *ngIf="!!owner">
					<div class="id-verfication">
						<div class="row">
							<div class="col-sm-12">
								<div class="tour-inf">
									<div class="center-img">
									</div>
									<h3>{{owner.profile.supplier?.companyName}}<span><i class="fa fa-check-circle" aria-hidden="true"></i></span></h3>
									<p><span><i class="fa fa-map-marker" aria-hidden="true"></i></span>
										{{owner.profile.address?.suburb}},
										{{owner.profile.address?.state}},
										{{owner.profile.address?.country}}
									</p>
								</div>
								<ul>
									<li>
										<div class="row">
											<div class="col-sm-7 col-md-12 col-lg-7">
												<div class="icn-wrap">
													<img src="images/book.png" alt="">
												</div>
												<div class="verfication-info">
													<p>Agent Certificate</p>
													<h5>{{owner.profile.supplier.agentCertificate?.name}}</h5>
												</div>
											</div>
											<div class="col-sm-5 col-md-12 col-lg-5">
												<button type="button" class="btn green-btn" *ngIf="owner.profile.supplier?.agentCertificate?.verified"><span><i class="fa fa-check" aria-hidden="true"></i></span>Verified</button>
												<button type="button" class="btn" *ngIf="!owner.profile.supplier?.agentCertificate?.verified"><span><i class="fa fa-close" aria-hidden="true"></i></span>Verified</button>
											</div>
										</div>
									</li>
									<li>
										<div class="row">
											<div class="col-sm-7 col-md-12 col-lg-7">
												<div class="icn-wrap">
													<img src="images/manger.png" alt="">
												</div>
												<div class="verfication-info">
													<p>Manager</p>
													<h5>{{owner.profile.supplier?.ownerName}}</h5>
												</div>
											</div>
											<div class="col-sm-5 col-md-12 col-lg-5">
												<button type="button" class="btn green-btn" *ngIf="owner.profile.supplier?.agentIdentity?.verified"><span><i class="fa fa-check" aria-hidden="true"></i></span>Verified</button>
												<button type="button" class="btn" *ngIf="!owner.profile.supplier?.agentIdentity?.verified"><span><i class="fa fa-close" aria-hidden="true"></i></span>Verified</button>
											</div>
										</div>
									</li>
								</ul>
								<div class="tour-ratings">
									<div class="left">
										<h4>{{numOfTours}}</h4>
										<p>Tours</p>
									</div>
									<div class="right">
										<h4>N.A.</h4>
										<p>Ratings</p>
									</div>
								</div>
							</div>

							<div class="col-sm-12">
								<div class="btn-wrap">
									<button type="button" class="btn green-btn" data-toggle="modal" data-target="#askquestion"><span><img src="images/comment.png" alt="" /></span>Ask a question </button>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="col-md-8 pull-md-4" *ngIf="!!tour">
					<!--overview-->
					<div class="tour-detail right-wrap" id="overview">
						<h3>Overview</h3>
						<ul>
							<li>
								<p>Pace</p>
								<h5>{{tour.tourPace}}</h5>
							</li>
							<li>
								<p>Type</p>
								<h5>{{tour.tourType}}</h5>
							</li>
							<li>
								<p>Total Meals</p>
								<h5>{{tour.totalMeals}}</h5>
							</li>
							<li>
								<p>TourGuide</p>
								<h5 *ngIf="tour.hasGuide">Included</h5>
								<h5 *ngIf="!tour.hasGuide">Not Included</h5>
							</li>
						</ul>
						<p [innerHTML]="tour.description | nl2br">
						</p>
					</div>
					<!--overview-->
					<!--tour-itinerary-->
					<div class="tour-itinerary right-wrap" id="itinerary">
						<div class="row">
							<div class="col-sm-12">
								<h3>Itinerary</h3>
								<div class="day-box">
									<!-- itenerary loop -->
									<div class="day-wrap" [ngClass]="{'small-icon': i>0, 'green-icon': i==0, 'show-less': i>=2 && !tour.showFullItenerary}" *ngFor="let itenerary of tour.itenerary; let i = index;">
										<h2>Day <span [innerHTML]="i+1"></span> : {{itenerary.title}}</h2>
										<p [innerHTML]="itenerary.description | nl2br"></p>
										<div [ngClass]="{'show-less': !itenerary.showMore}">
											<div class="sub-head">
												<h4>Hotel</h4>
												<p>{{itenerary.hotelName || itenerary.hotelType}}</p>
											</div>
											<div class="sub-head">
												<h4>Meals</h4>
												<p>
													<span class="radio-wrap">
                            <img src="images/imgpsh_fullsize.png" alt="" *ngIf="!itenerary.hasBreakfast">
                            <img src="images/imgpsh_fullsize(2).png" alt="" *ngIf="itenerary.hasBreakfast">
                            <label for="breakFast" class="radio-custom-label">Breakfast</label>
                          </span>
                          <span class="radio-wrap">
                            <img src="images/imgpsh_fullsize.png" alt="" *ngIf="!itenerary.hasLunch">
                            <img src="images/imgpsh_fullsize(2).png" alt="" *ngIf="itenerary.hasLunch">
                            <label for="lunch" class="radio-custom-label">Lunch</label>
                          </span>
                          <span class="radio-wrap">
                            <img src="images/imgpsh_fullsize.png" alt="" *ngIf="!itenerary.hasDinner">
                            <img src="images/imgpsh_fullsize(2).png" alt="" *ngIf="itenerary.hasDinner">
                            <label for="dinner" class="radio-custom-label">Dinner</label>
                          </span>
												</p>
											</div>
										</div>
										<a href="javascript:void(0)" class="showmore" (click)="itenerary.showMore = !itenerary.showMore; detectChanges();">
											<span *ngIf="!itenerary.showMore">Show more</span>
											<span *ngIf="itenerary.showMore">Show less</span>
											<span>
												<i class="fa fa-angle-down" [ngClass]="{'fa-angle-down': !itenerary.showMore, 'fa-angle-up': itenerary.showMore}" aria-hidden="true"></i>
											</span>
										</a>
									</div>
									<!-- itenerary loop ends -->
								</div>
								<div class="text-center" *ngIf="tour.itenerary.length > 2">
									<a href="javascript:void(0)" class="full-itinerary" (click)="tour.showFullItenerary = !tour.showFullItenerary; detectChanges();">View full itinerary<span>
										<i class="fa fa-angle-down" aria-hidden="true" *ngIf="!tour.showFullItenerary"></i>
										<i class="fa fa-angle-up" aria-hidden="true" *ngIf="tour.showFullItenerary"></i>
										</span>
									</a>
								</div>
							</div>
						</div>
					</div>
					<!--tour-itinerary-->
					<!--gallery-wrap-->
					<div class="gallery-wrap right-wrap" id="gallery">
						<div class="row">
							<div class="col-sm-12">
								<h3>Gallery</h3>
							</div>
							<div class="col-sm-12 second-row">
                <div class="img-wrap" *ngFor="let image of tour.images;">
                  <a target="_blank" href="{{image.url}}" rel="prettyPhoto[tour_gallery]"><img src="{{image.url}}" alt="{{image.name}}" /></a>
                </div>
              </div>
						</div>
					</div>
					<!--inclusive-policy-->
					<div class="inclusive-policy right-wrap" id="inclusion">
						<div class="row">
							<div class="col-sm-12">
								<h3>Inclusion &amp; Policy</h3>
								<h4>Included:</h4>
								<ul>
									<li *ngFor="let text of tour.inclusions;">{{text}}</li>
								</ul>
								<h4>Excluded:</h4>
								<ul>
									<li *ngFor="let text of tour.exclusions">{{text}}</li>
								</ul>

							</div>
						</div>
					</div>
					<!--inclusive-policy-->
					<!--Availability-->
					<div class="availability right-wrap">
						<h3>Availability</h3>
						<div class="table-responsive status-table">
							<table class="table">
								<thead>
									<tr>
										<th>Start</th>
										<th>End </th>
										<th>Seats Left</th>
										<th>Price(A$)</th>
										<th></th>
									</tr>
								</thead>
								<tbody>
									<tr *ngFor="let row of tour.dateRange; let i = index;">
										<td>{{row.startDate | date}}</td>
										<td>{{row.endDate | date}}</td>
										<td>{{row.availableSeats}}</td>
										<td>
											A${{row.price[0]?.adult}}
											<a href="javascript:void(0)" (click)="selDateRange=row" data-toggle="modal" data-target="#myModal">see all pricing</a>
										</td>
										<td><button type="button" class="btn green-btn">BOOK</button></td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
					<div class=" modal fade bd-example-modal-sm" id="myModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
              <div class="modal-content ">
                <div class="modal-header">
                  <h5 class="modal-title" id="exampleModalLabel">Schedule Pricing</h5>
                </div>
                <div class="modal-body">
                  <table class="table hover-table" *ngIf="selDateRange">
                    <thead>
                      <tr>
                        <th>People</th>
                        <th>Adult</th>
                        <th>Child</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let row of selDateRange.price">
                        <td>{{row.numOfPersons}}</td>
                        <td>${{row.adult}}</td>
                        <td>${{row.child}}</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
					<!--Availability-->
				</div>
			</div>
		</div>

	</section>

	<!--slider-option-->
	<section class="slider-option" *ngIf="relatedTours!=null && relatedTours.length">
		<div class="container">
			<div class="row">
				<div class="col-sm-12">
					<h3>You may also like</h3>
				</div>
				<div class="col-sm-12">
					<div class="slider-wrap">
						<!-- start loop -->
						<div *ngFor= "let tour of relatedTours; let i = index;">
							<div class="destination-wrap">
								<span *ngIf="!tour.images?.length"><img src="/images/destination.png" /></span>
		            <span *ngIf="tour.images?.length > 0 && tour.featuredImage?.url"><img [src]="tour.featuredImage?.url" /></span>
		            <span *ngIf="tour.images?.length > 0 && !tour.featuredImage?.url"><img [src]="tour.images[0]?.url" /></span>
								<div class="content">
									<div class="row">
										<div class="col-8">
											<h4><a [routerLink]="['/tours', tour.slug]">{{tour.name}}</a></h4>
											<p><span><i class="fa fa-map-marker" aria-hidden="true"></i></span>{{tour.departure}}, {{tour.destination}}</p>
										</div>
										<div class="col-4">
											<p>From</p>
											<h3><span>$</span>{{tour.dateRange[0]?.price[0]?.adult}}</h3>
										</div>
									</div>
								</div>
							</div>

							<span [innerHTML]="initializeSlick(i)"></span>
						</div>
						<!-- end loop -->
					</div>
				</div>
			</div>
		</div>
	</section>
	<!--slider-option-->

	<!-- Modal -->
	<div class="modal fade askquestion" id="askquestion" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="exampleModalLabel">Ask a question</h5>

				</div>
				<div class="modal-body">
					<p>Vestibulum rutrum quam vitae fringilla tincidunt. Suspendisse nec tortor urna. Ut laoreet sodales nisi, quis iaculis nulla iaculis vitae. Donec sagittis faucibus lacus eget blandit.</p>
					<h6>Tour</h6>
					<p>Donec sagittis faucibus lacus eget blandit.</p>
					<form>
						<div class="form-group">
							<label for="Country">Type</label>
							<div class="form-group">
								<div class="select-style">
									<select class="select">
										<option value="">Choose a question type</option>
										<option value="">1</option>
										<option value="">2</option>
									</select>
								</div>
							</div>
						</div>
						<div class="form-group">
							<label for="Description">Message</label>
							<div class="input-wrap">
								<textarea class="form-control" id="Description" placeholder="Leave your message here..."></textarea>
							</div>
						</div>
					</form>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn green-btn full-btn">Send</button>
				</div>
			</div>
		</div>
	</div>
	<!--link-content-->
	<footer-bar></footer-bar>
</main>
